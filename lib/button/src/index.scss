@use 'sass:color';
@import '../../styles/mixins/all';

$button-color: $color-gray-900 !default;
$button-background-color: $color-white !default;

$button-size-small: $size-7 !default;
$button-size-normal: $size-6 !default;
$button-size-medium: $size-5 !default;
$button-size-large: $size-4 !default;

$button-border-color: $color-gray-300 !default;
$button-border-width: 1px !default;

$button-padding-vertical: calc(0.5em - #{$button-border-width}) !default;
$button-padding-horizontal: 1em !default;

$button-hover-color: $button-color !default;
$button-hover-border-color: $color-gray-800 !default;

$button-focus-color: $button-color !default;
$button-focus-border-color: $color-gray-500 !default;
$button-focus-box-shadow-size: 0 0 0 0.1em !default;
$button-focus-box-shadow-color: lighten($button-focus-border-color, 20%) !default;

@mixin hover-state-style($color,$bg-color,$border-color) {
  &:hover {
    &:not([disabled]) {
      color: $color;
      background-color: $bg-color;
      border-color: $border-color;
    }
  }
}

@mixin focus-state-style($bg-color) {
  &:focus {
    box-shadow: $button-focus-box-shadow-size rgba($bg-color, .25);
  }
}

@mixin light-style($color) {
  &--light {
    color: darken($color, 30%);
    background-color: rgba($color, 0.2);
  }
}

@mixin transparent-style($color) {
  &--transparent {
    color: $color;
    border-color: $color;
    background-color: transparent;
  }
}

@mixin disabled-style($bg-color,$border-color) {
  &[disabled] {
    background-color: rgba($bg-color, .6);
    border-color: rgba($border-color, 1); //alpha .6 not same with bg-color
    box-shadow: none;
    cursor: not-allowed;
  }
}


.mad-button {
  //only basic button style can be put here
  box-sizing: border-box;
  position: relative;
  outline: none;
  text-decoration: none;
  background-color: $button-background-color;
  border-width: $button-border-width;
  border-style: solid;
  color: $button-color;
  cursor: pointer;
  padding: $button-padding-vertical $button-padding-horizontal;
  text-align: center;
  font-size: $button-size-normal;
  margin-bottom: 0.5rem;
  margin-right: 0.5rem;
  user-select: none;

  // size
  &--size-tiny {
    font-size: $button-size-small;
  }

  &--size-small {
    font-size: $button-size-normal;
  }

  &--size-medium {
    font-size: $button-size-medium;
  }

  &--size-large {
    font-size: $button-size-large;
  }

  // color
  &--type-white,
  &--type-default {
    background-color: $color-white;
    color: color.invert($color-white, 100%);
    border-color: $button-border-color;

    @include hover-state-style($button-hover-color, $color-white, $button-hover-border-color);
    @include focus-state-style($color-black);
    @include disabled-style($color-white, $button-border-color);
  }

  //&--type-light {
  //  background-color: $color-gray-200;
  //  color: color.invert($color-gray-200, 100%);
  //  @include focus-state-style($color-gray-200);
  //}
  //
  //&--type-dark {
  //  background-color: $color-gray-600;
  //  color: $color-white; //hardcode for Aa pass
  //  @include focus-state-style($color-gray-600);
  //}
  //
  //&--type-black {
  //  background-color: $color-black;
  //  color: color.invert($color-black, 100%);
  //  @include focus-state-style($color-black);
  //}

  &--type-text {
    background-color: transparent;
    color: black;
    border-style: none;
    text-decoration: underline;

    @include hover-state-style(black, transparent, transparent);

    &:focus {
      color: #3CB371FF; //hardcode ?
    }

    @include disabled-style(white, white);
  }

  &--type-primary {
    background-color: $primary;
    color: white;
    border-color: $primary;

    @include hover-state-style(white, rgba($primary, .9), $primary);
    @include focus-state-style($primary);
    @include light-style($primary);
    @include transparent-style($primary);
    @include disabled-style($primary, $primary);
  }

  &--type-info {
    background-color: $info;
    color: white;
    border-color: $info;

    @include hover-state-style(white, rgba($info, .9), $info);
    @include focus-state-style($info);
    @include light-style($info);
    @include transparent-style($info);
    @include disabled-style($info, $info);
  }

  &--type-success {
    background-color: $success;
    color: white;
    border-color: $success;

    @include hover-state-style(white, rgba($success, .9), $success);
    @include focus-state-style($success);
    @include light-style($success);
    @include transparent-style($success);
    @include disabled-style($success, $success);
  }

  &--type-warning {
    background-color: $warning;
    color: black;
    border-color: $warning;

    @include hover-state-style(black, rgba($warning, .9), $warning);
    @include focus-state-style($warning);
    @include light-style($warning);
    @include transparent-style($warning);
    @include disabled-style($warning, $warning);
  }

  &--type-error {
    background-color: $error;
    color: white;
    border-color: $error;

    @include hover-state-style(white, rgba($error, .9), $error);
    @include focus-state-style($error);
    @include light-style($error);
    @include transparent-style($error);
    @include disabled-style($error, $error);
  }

  // block
  &--block {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
  }

  // shape
  &--shape-round {
    border-radius: $radius-rounded;
  }

  &--shape-dashed {
    border-width: 1px;
    border-style: dashed;
  }

  &__loading {
    position: absolute;
    display: block;
    width: 1em;
    height: 1em;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    margin: auto;
    border: 3px solid transparent;
    border-top-color: #000000;
    border-radius: 50%;
    animation: button-loading-spinner 1s ease infinite;
  }
}

@keyframes button-loading-spinner {
  from {
    transform: rotate(0turn);
  }

  to {
    transform: rotate(1turn);
  }
}
